"use strict";
const width = 160;
const height = 160;
const MAX_DYNAMIC_LIGHT_Z = 64; // 4 tiles high
const VIEW_COUNT = 5;
let view = 0;
const queryString = window.location.search;
const urlParams = new URLSearchParams(queryString);
const viewParam = urlParams.get('view');
if (typeof viewParam === 'string') {
    const parsedViewParam = parseInt(viewParam);
    if (typeof parsedViewParam === 'number' && !isNaN(parsedViewParam) && parsedViewParam >= 0 && parsedViewParam <= VIEW_COUNT) {
        view = parsedViewParam;
    }
}
class ShapeCastingDemo extends Nitro.Component {
    scale = 3;
    lightX = 80 * this.scale;
    lightY = 80 * this.scale;
    lightZ = 8;
    lightMoved = (x, y, z) => {
        this.lightX = Math.max(0, Math.min(this.lightX + x, width * this.scale));
        this.lightY = Math.max(0, Math.min(this.lightY + y, width * this.scale));
        this.lightZ = Math.max(0, Math.min(this.lightZ + z, MAX_DYNAMIC_LIGHT_Z));
        this.setDirty();
    };
    onResize = (e) => {
        const maxSize = width * 3;
        const newScale = Math.floor(window.innerWidth / maxSize);
        if (newScale !== this.scale) {
            this.lightX *= newScale / this.scale;
            this.lightY *= newScale / this.scale;
            this.scale = newScale;
            this.setDirty();
        }
    };
    wasMounted() {
        window.addEventListener('resize', this.onResize);
    }
    wasUnmounted() {
        window.removeEventListener('resize', this.onResize);
    }
    previousView = () => {
        view--;
        urlParams.set('view', view + '');
        history.replaceState(null, '', "?" + urlParams.toString());
        this.setDirty();
    };
    nextView = () => {
        view++;
        urlParams.set('view', view + '');
        history.replaceState(null, '', "?" + urlParams.toString());
        this.setDirty();
    };
    render(_) {
        const scale = this.scale;
        const ambientLight = 'rgb(64, 64, 64)';
        const dynamicLightX = this.lightX;
        const dynamicLightY = this.lightY;
        const dynamicLightZ = this.lightZ;
        return _.create("div", { key: "root", style: "width: 60%" },
            _.create("div", { style: "text-align: center;" },
                _.create("h2", null, "Simulating 3d lighting in 2d"),
                _.create("button", { style: "font-size: 24px", onClick: this.previousView, disabled: view == 0 }, "Previous"),
                _.create("span", { style: "display: inline-block; width: 20px" }),
                _.create("button", { style: "font-size: 24px", onClick: this.nextView, disabled: view == VIEW_COUNT }, "Next")),
            _.create("div", { style: "width: 100%; display: flex; flex-direction: column; align-items: center;" },
                view === 0 &&
                    _.create("p", null, "Let's start with a 2d image of the game world."),
                view === 0 &&
                    _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.PLAIN_IMAGE }),
                view === 1 &&
                    _.create("p", null,
                        "We'll add some ambient light to darken the area as if it were night.",
                        _.create("br", null),
                        _.create("br", null),
                        _.create("p", null, "The following image represents the \"light map\", showing the light affecting each pixel.")),
                view === 1 &&
                    _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.LIGHT_MAP, ambientLight: ambientLight }),
                view === 1 &&
                    _.create("p", null, "The pixel colors in the \"light map\" are multiplied against the actual image to produce a lit scene. The scene is very dark until we add lights."),
                view === 1 &&
                    _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.PLAIN_IMAGE, ambientLight: ambientLight }),
                view === 1 &&
                    _.create("p", null, "We can add a simple point light that can be moved around. You can use the scroll wheel on the image to move the light up and down in the Z-axis, this will be useful later to show shadowing behavior."),
                view === 1 &&
                    _.create("div", { style: "display: flex" },
                        _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.LIGHT_MAP, ambientLight: ambientLight, lightX: dynamicLightX, lightY: dynamicLightY, lightZ: dynamicLightZ, lightMoved: this.lightMoved, renderDynamicLight: true }),
                        _.create("div", { style: 'padding-left: 10px' },
                            _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.PLAIN_IMAGE, ambientLight: ambientLight, lightX: dynamicLightX, lightY: dynamicLightY, lightZ: dynamicLightZ, lightMoved: this.lightMoved, renderDynamicLight: true }))),
                view === 1 &&
                    _.create("p", null, "It's not very accurate however, next we'll take into account normal values for each pixel to make the lighting a bit more realistic."),
                view === 2 &&
                    _.create("p", null,
                        "We can add normals(surface vectors) to the gravestone to apply the lighting in a more realistic manner.",
                        _.create("br", null),
                        _.create("br", null),
                        "The following image is the normal map for the scene. It follows the OpenGL coloring format."),
                view === 2 &&
                    _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.NORMAL_MAP }),
                view === 2 &&
                    _.create("p", null,
                        "Now when light is moved we can see that the lighting applied to each pixel depends on the surface angle or \"normal vector\" for that pixel.",
                        _.create("br", null),
                        _.create("br", null),
                        "Try moving the light around the gravestone to how the front and edges of the gravestone are lit depending on the position of the light."),
                view === 2 &&
                    _.create("div", { style: "display: flex" },
                        _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.LIGHT_MAP, ambientLight: ambientLight, lightX: dynamicLightX, lightY: dynamicLightY, lightZ: dynamicLightZ, lightMoved: this.lightMoved, renderDynamicLight: true, applyNormalMap: true }),
                        _.create("div", { style: 'padding-left: 10px' },
                            _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.PLAIN_IMAGE, ambientLight: ambientLight, lightX: dynamicLightX, lightY: dynamicLightY, lightZ: dynamicLightZ, lightMoved: this.lightMoved, renderDynamicLight: true, applyNormalMap: true }))),
                view === 2 &&
                    _.create("p", null,
                        "There is an issue with this naive approach however, it breaks down if you move the light into the center of the gravestone, as we're trying to simulate 3D lighting on a 2D image(where the camera angle has been \"baked in\" to the image).",
                        _.create("br", null),
                        _.create("br", null),
                        "On the next page we'll fix this by taking into account each pixel's location in the \"original\" 3D space."),
                view === 3 &&
                    _.create("p", null,
                        "Image assets of this style are often referred to as \"top-down\", as the image represents a three dimensional object as if the camera was above(and in front of the object) and looking down on it. Since this camera angle is essentially \"baked into\" the image, we can take that into account when calculating how light would hit the object(as if it was still three dimensional). Rather than apply the lighting to each pixel based on its location in the image, we'll apply it based on the \"original location\", the location the image data in the pixel would be located if the camera were actually directly over the object.",
                        _.create("br", null),
                        _.create("br", null),
                        "The following image is the \"pixel offset map\", it maps each pixel to the location it would be if the 2D assets were drawn with the camera directly overhead. A lighter color indicates that the pixel should be treated as residing farther down in the image."),
                view === 3 &&
                    _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.PIXEL_OFFSET_MAP }),
                view === 3 &&
                    _.create("p", null, "The lighting is a bit more accurate now, particularly when the light is very close to the gravestone, in front of it or behind it."),
                view === 3 &&
                    _.create("div", { style: "display: flex" },
                        _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.LIGHT_MAP, ambientLight: ambientLight, lightX: dynamicLightX, lightY: dynamicLightY, lightZ: dynamicLightZ, lightMoved: this.lightMoved, renderDynamicLight: true, applyNormalMap: true, applyPixelLocationOffsetMap: true }),
                        _.create("div", { style: 'padding-left: 10px' },
                            _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.PLAIN_IMAGE, ambientLight: ambientLight, lightX: dynamicLightX, lightY: dynamicLightY, lightZ: dynamicLightZ, lightMoved: this.lightMoved, renderDynamicLight: true, applyNormalMap: true, applyPixelLocationOffsetMap: true }))),
                view === 3 &&
                    _.create("p", null, "Some visual artifacts can still result if the light is placed essentially \"within\" the gravestone, however this may not be an issue in practice as long as light sources are not allowed to pass \"through\" objects such as these."),
                view === 4 &&
                    _.create("p", null,
                        "Let's get more complex now, we'll use a \"height map\" image to produce a \"shadow map\". The height map is similar to the \"pixel offset map\" but indicates the height of the pixel from the ground rather than location in X/Y space. Using the height map we will cast shadows from the light source to create the shadow map, the shadow map indicates what areas are \"in shadow\" and should not be lit by the dynamic light source.",
                        _.create("br", null),
                        _.create("br", null),
                        "The following image is the height map."),
                view === 4 &&
                    _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.HEIGHT_MAP }),
                view === 4 &&
                    _.create("p", null, "The following image is the shadow map, with the dynamic light applied to it as well."),
                view === 4 &&
                    _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.SHADOW_MAP, ambientLight: ambientLight, lightX: dynamicLightX, lightY: dynamicLightY, lightZ: dynamicLightZ, renderDynamicLight: true }),
                view === 4 &&
                    _.create("p", null, "Now when we move the light around the gravestone casts a distinct shadow on the ground."),
                view === 4 &&
                    _.create("div", { style: "display: flex" },
                        _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.LIGHT_MAP, ambientLight: ambientLight, lightX: dynamicLightX, lightY: dynamicLightY, lightZ: dynamicLightZ, lightMoved: this.lightMoved, renderDynamicLight: true, applyNormalMap: true, applyPixelLocationOffsetMap: true, applyShadowMap: true }),
                        _.create("div", { style: 'padding-left: 10px' },
                            _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.PLAIN_IMAGE, ambientLight: ambientLight, lightX: dynamicLightX, lightY: dynamicLightY, lightZ: dynamicLightZ, lightMoved: this.lightMoved, renderDynamicLight: true, applyNormalMap: true, applyPixelLocationOffsetMap: true, applyShadowMap: true }))),
                view === 4 &&
                    _.create("p", null, "The shadow does not look correct when the light is in front of the gravestone however, this is due to the shadow map being calculated assuming the camera is directly above the object. On the next page we will fix this by using the \"pixel offset map\" again."),
                view === 5 &&
                    _.create("p", null,
                        "Just as we used a \"pixel offset map\" to correct for the camera angle when calculating the lighting the is applied to the gravestone, we can use the same pixel offsets to more accurately calculate whether a pixel is \"in shadow\".",
                        _.create("br", null),
                        _.create("br", null),
                        "Here is the pixel offset map again:"),
                view === 5 &&
                    _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.PIXEL_OFFSET_MAP }),
                view === 5 &&
                    _.create("p", null, "And the shadow offset map again:"),
                view === 5 &&
                    _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.SHADOW_MAP, ambientLight: ambientLight, lightX: dynamicLightX, lightY: dynamicLightY, lightZ: dynamicLightZ, renderDynamicLight: true }),
                view === 5 &&
                    _.create("p", null, "The end result, using these tricks we can simulate dynamic 3D lighting within a 2D image."),
                view === 5 &&
                    _.create("div", { style: "display: flex" },
                        _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.LIGHT_MAP, ambientLight: ambientLight, lightX: dynamicLightX, lightY: dynamicLightY, lightZ: dynamicLightZ, lightMoved: this.lightMoved, renderDynamicLight: true, applyNormalMap: true, applyPixelLocationOffsetMap: true, applyShadowMap: true, applyPixelOffsetToShadowCalculations: true }),
                        _.create("div", { style: 'padding-left: 10px' },
                            _.create(GameView, { width: width, height: height, scale: scale, mode: ImageMode.PLAIN_IMAGE, ambientLight: ambientLight, lightX: dynamicLightX, lightY: dynamicLightY, lightZ: dynamicLightZ, lightMoved: this.lightMoved, renderDynamicLight: true, applyNormalMap: true, applyPixelLocationOffsetMap: true, applyShadowMap: true, applyPixelOffsetToShadowCalculations: true }))),
                view === 5 &&
                    _.create("p", null,
                        "Is this technique usable within a game? Almost certainly not in it's current state due to performance issues, iterating over and calculating the lighting to be applied to each pixel using the CPU is very slow.",
                        _.create("br", null),
                        _.create("br", null),
                        "Utilizing SIMD could speed it up but I doubt it would be enough once you increase the world size and add multiple light sources.",
                        _.create("br", null),
                        _.create("br", null),
                        "Perhaps it would be possible to perform these lighting calculations within a shader, but at that point why not just switch to a true 3D lighting model.")),
            _.create("p", { style: "text-align: center;" },
                _.create("button", { style: "font-size: 24px", onClick: this.previousView, disabled: view == 0 }, "Previous"),
                _.create("span", { style: "display: inline-block; width: 20px" }),
                _.create("button", { style: "font-size: 24px", onClick: this.nextView, disabled: view == VIEW_COUNT }, "Next")));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2hhcGVDYXN0aW5nRGVtby5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3RzL1NoYXBlQ2FzdGluZ0RlbW8udHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxNQUFNLEtBQUssR0FBRyxHQUFHLENBQUM7QUFDbEIsTUFBTSxNQUFNLEdBQUcsR0FBRyxDQUFDO0FBRW5CLE1BQU0sbUJBQW1CLEdBQWtCLEVBQUUsQ0FBQyxDQUFDLGVBQWU7QUFFOUQsTUFBTSxVQUFVLEdBQUcsQ0FBQyxDQUFDO0FBRXJCLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQztBQUViLE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDO0FBQzNDLE1BQU0sU0FBUyxHQUFHLElBQUksZUFBZSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ25ELE1BQU0sU0FBUyxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDeEMsSUFBSSxPQUFPLFNBQVMsS0FBSyxRQUFRLEVBQUUsQ0FBQztJQUNuQyxNQUFNLGVBQWUsR0FBRyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDNUMsSUFBSSxPQUFPLGVBQWUsS0FBSyxRQUFRLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLElBQUksZUFBZSxJQUFJLENBQUMsSUFBSSxlQUFlLElBQUksVUFBVSxFQUFFLENBQUM7UUFDN0gsSUFBSSxHQUFHLGVBQWUsQ0FBQztJQUN4QixDQUFDO0FBQ0YsQ0FBQztBQUVELE1BQU0sZ0JBQWlCLFNBQVEsS0FBSyxDQUFDLFNBQVM7SUFFckMsS0FBSyxHQUFHLENBQUMsQ0FBQztJQUVWLE1BQU0sR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN6QixNQUFNLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDekIsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUVYLFVBQVUsR0FBRyxDQUFDLENBQU0s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RUFBRSxNQUFNLEVBQUUsYUFBYSxFQUFFLE1BQU0sRUFBRSxhQUFhLEVBQUUsVUFBVSxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsa0JBQWtCLFFBQUMsY0FBYyxRQUFDLDJCQUEyQixRQUFDLGNBQWMsUUFBQyxvQ0FBb0MsU0FBRSxDQUMvVCxDQUNEO2dCQUVMLElBQUksS0FBSyxDQUFDO29CQUNYOzt3QkFFQyxvQkFBSzt3QkFDTCxvQkFBSzs7d0JBRUwsb0JBQUs7d0JBQ0wsb0JBQUs7a0xBRUYsQ0FHQTtZQUVOLGdCQUFHLEtBQUssRUFBQyxxQkFBcUI7Z0JBQzdCLHFCQUFRLEtBQUssRUFBQyxpQkFBaUIsRUFBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxRQUFRLEVBQUUsSUFBSSxJQUFJLENBQUMsZUFBbUI7Z0JBQ2xHLG1CQUFNLEtBQUssRUFBQyxvQ0FBb0MsR0FBUTtnQkFDeEQscUJBQVEsS0FBSyxFQUFDLGlCQUFpQixFQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxJQUFJLElBQUksVUFBVSxXQUFlLENBQ2hHLENBRUMsQ0FBQztJQUNSLENBQUM7Q0FFRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHdpZHRoID0gMTYwO1xuY29uc3QgaGVpZ2h0ID0gMTYwO1xuXG5jb25zdCBNQVhfRFlOQU1JQ19MSUdIVF9aOiBpbnRfQmlnUGl4ZWxzID0gNjQ7IC8vIDQgdGlsZXMgaGlnaFxuXG5jb25zdCBWSUVXX0NPVU5UID0gNTtcblxubGV0IHZpZXcgPSAwO1xuXG5jb25zdCBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG5jb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHF1ZXJ5U3RyaW5nKTtcbmNvbnN0IHZpZXdQYXJhbSA9IHVybFBhcmFtcy5nZXQoJ3ZpZXcnKTtcbmlmICh0eXBlb2Ygdmlld1BhcmFtID09PSAnc3RyaW5nJykge1xuXHRjb25zdCBwYXJzZWRWaWV3UGFyYW0gPSBwYXJzZUludCh2aWV3UGFyYW0pO1xuXHRpZiAodHlwZW9mIHBhcnNlZFZpZXdQYXJhbSA9PT0gJ251bWJlcicgJiYgIWlzTmFOKHBhcnNlZFZpZXdQYXJhbSkgJiYgcGFyc2VkVmlld1BhcmFtID49IDAgJiYgcGFyc2VkVmlld1BhcmFtIDw9IFZJRVdfQ09VTlQpIHtcblx0XHR2aWV3ID0gcGFyc2VkVmlld1BhcmFtO1xuXHR9XG59XG5cbmNsYXNzIFNoYXBlQ2FzdGluZ0RlbW8gZXh0ZW5kcyBOaXRyby5Db21wb25lbnQge1xuXG5cdHByaXZhdGUgc2NhbGUgPSAzO1xuXG5cdHByaXZhdGUgbGlnaHRYID0gODAgKiB0aGlzLnNjYWxlO1xuXHRwcml2YXRlIGxpZ2h0WSA9IDgwICogdGhpcy5zY2FsZTtcblx0cHJpdmF0ZSBsaWdodFogPSA4O1xuXG5cdHByaXZhdGUgbGlnaHRNb3ZlZCA9ICh4OiBpbnQsIHk6IGludCwgejogaW50KSA9PiB7XG5cdFx0dGhpcy5saWdodFggPSBNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLmxpZ2h0WCArIHgsIHdpZHRoICogdGhpcy5zY2FsZSkpO1xuXHRcdHRoaXMubGlnaHRZID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGhpcy5saWdodFkgKyB5LCB3aWR0aCAqIHRoaXMuc2NhbGUpKTtcblx0XHR0aGlzLmxpZ2h0WiA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMubGlnaHRaICsgeiwgTUFYX0RZTkFNSUNfTElHSFRfWikpO1xuXHRcdHRoaXMuc2V0RGlydHkoKTtcblx0fVxuXG5cdHByaXZhdGUgb25SZXNpemUgPSAoZTogRXZlbnQpID0+IHtcblx0XHRjb25zdCBtYXhTaXplID0gd2lkdGggKiAzO1xuXHRcdGNvbnN0IG5ld1NjYWxlID0gTWF0aC5mbG9vcih3aW5kb3cuaW5uZXJXaWR0aCAvIG1heFNpemUpO1xuXHRcdGlmIChuZXdTY2FsZSAhPT0gdGhpcy5zY2FsZSkge1xuXHRcdFx0dGhpcy5saWdodFggKj0gbmV3U2NhbGUgLyB0aGlzLnNjYWxlO1xuXHRcdFx0dGhpcy5saWdodFkgKj0gbmV3U2NhbGUgLyB0aGlzLnNjYWxlO1xuXHRcdFx0dGhpcy5zY2FsZSA9IG5ld1NjYWxlO1xuXHRcdFx0dGhpcy5zZXREaXJ0eSgpO1xuXHRcdH1cblx0fVxuXG5cdHdhc01vdW50ZWQoKTogdm9pZCB7XG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUpO1xuXHRcdFxuXHR9XG5cblx0d2FzVW5tb3VudGVkKCk6IHZvaWQge1xuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplKTtcblx0fVxuXG5cdHByaXZhdGUgcHJldmlvdXNWaWV3ID0gKCkgPT4ge1xuXHRcdHZpZXctLTtcblx0XHR1cmxQYXJhbXMuc2V0KCd2aWV3JywgdmlldyArICcnKTtcblx0XHRoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCAnJywgXCI/XCIrdXJsUGFyYW1zLnRvU3RyaW5nKCkpO1xuXHRcdHRoaXMuc2V0RGlydHkoKTtcblx0fVxuXG5cdHByaXZhdGUgbmV4dFZpZXcgPSAoKSA9PiB7XG5cdFx0dmlldysrO1xuXHRcdHVybFBhcmFtcy5zZXQoJ3ZpZXcnLCB2aWV3ICsgJycpO1xuXHRcdGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsICcnLCBcIj9cIit1cmxQYXJhbXMudG9TdHJpbmcoKSk7XG5cdFx0dGhpcy5zZXREaXJ0eSgpO1xuXHR9XG5cblx0cmVuZGVyKF8/OiBOaXRyby5SZW5kZXJlcik6IHZvaWQgfCBIVE1MRWxlbWVudCB7XG5cblx0XHRjb25zdCBzY2FsZSA9IHRoaXMuc2NhbGU7XG5cblx0XHRjb25zdCBhbWJpZW50TGlnaHQgPSAncmdiKDY0LCA2NCwgNjQpJztcblxuXHRcdGNvbnN0IGR5bmFtaWNMaWdodFggPSB0aGlzLmxpZ2h0WDtcblx0XHRjb25zdCBkeW5hbWljTGlnaHRZID0gdGhpcy5saWdodFk7XG5cdFx0Y29uc3QgZHluYW1pY0xpZ2h0WiA9IHRoaXMubGlnaHRaO1xuXG5cdFx0cmV0dXJuIDxkaXYga2V5PVwicm9vdFwiIHN0eWxlPVwid2lkdGg6IDYwJVwiPlxuXHRcdFx0PGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjtcIj5cblx0XHRcdFx0PGgyPlNpbXVsYXRpbmcgM2QgbGlnaHRpbmcgaW4gMmQ8L2gyPlxuXHRcdFx0XHQ8YnV0dG9uIHN0eWxlPVwiZm9udC1zaXplOiAyNHB4XCIgb25DbGljaz17dGhpcy5wcmV2aW91c1ZpZXd9IGRpc2FibGVkPXt2aWV3ID09IDB9PlByZXZpb3VzPC9idXR0b24+XG5cdFx0XHRcdDxzcGFuIHN0eWxlPVwiZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDogMjBweFwiPjwvc3Bhbj5cblx0XHRcdFx0PGJ1dHRvbiBzdHlsZT1cImZvbnQtc2l6ZTogMjRweFwiIG9uQ2xpY2s9e3RoaXMubmV4dFZpZXd9IGRpc2FibGVkPXt2aWV3ID09IFZJRVdfQ09VTlR9Pk5leHQ8L2J1dHRvbj5cblx0XHRcdDwvZGl2PlxuXG5cdFx0XHQ8ZGl2IHN0eWxlPVwid2lkdGg6IDEwMCU7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7XCI+XG5cdFx0XHRcdFxuXHRcdFx0XHR7IHZpZXcgPT09IDAgJiZcblx0XHRcdFx0XHQ8cD5MZXQncyBzdGFydCB3aXRoIGEgMmQgaW1hZ2Ugb2YgdGhlIGdhbWUgd29ybGQuPC9wPlxuXHRcdFx0XHR9XG5cdFx0XHRcdHsgdmlldyA9PT0gMCAmJlxuXHRcdFx0XHRcdDxHYW1lVmlldyB3aWR0aD17d2lkdGh9IGhlaWdodD17aGVpZ2h0fSBzY2FsZT17c2NhbGV9IG1vZGU9e0ltYWdlTW9kZS5QTEFJTl9JTUFHRX0vPlxuXHRcdFx0XHR9XG5cblx0XHRcdFx0eyB2aWV3ID09PSAxICYmXG5cdFx0XHRcdFx0PHA+XG5cdFx0XHRcdFx0XHRXZSdsbCBhZGQgc29tZSBhbWJpZW50IGxpZ2h0IHRvIGRhcmtlbiB0aGUgYXJlYSBhcyBpZiBpdCB3ZXJlIG5pZ2h0LlxuXHRcdFx0XHRcdFx0PGJyLz5cblx0XHRcdFx0XHRcdDxici8+XG5cdFx0XHRcdFx0XHQ8cD5UaGUgZm9sbG93aW5nIGltYWdlIHJlcHJlc2VudHMgdGhlIFwibGlnaHQgbWFwXCIsIHNob3dpbmcgdGhlIGxpZ2h0IGFmZmVjdGluZyBlYWNoIHBpeGVsLjwvcD5cblx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdH1cblx0XHRcdFx0eyB2aWV3ID09PSAxICYmXG5cdFx0XHRcdFx0PEdhbWVWaWV3IHdpZHRoPXt3aWR0aH0gaGVpZ2h0PXtoZWlnaHR9IHNjYWxlPXtzY2FsZX0gbW9kZT17SW1hZ2VNb2RlLkxJR0hUX01BUH0gYW1iaWVudExpZ2h0PXthbWJpZW50TGlnaHR9Lz5cblx0XHRcdFx0fVxuXHRcdFx0XHR7IHZpZXcgPT09IDEgJiZcblx0XHRcdFx0XHQ8cD5UaGUgcGl4ZWwgY29sb3JzIGluIHRoZSBcImxpZ2h0IG1hcFwiIGFyZSBtdWx0aXBsaWVkIGFnYWluc3QgdGhlIGFjdHVhbCBpbWFnZSB0byBwcm9kdWNlIGEgbGl0IHNjZW5lLiBUaGUgc2NlbmUgaXMgdmVyeSBkYXJrIHVudGlsIHdlIGFkZCBsaWdodHMuPC9wPlxuXHRcdFx0XHR9XG5cdFx0XHRcdHsgdmlldyA9PT0gMSAmJlxuXHRcdFx0XHRcdDxHYW1lVmlldyB3aWR0aD17d2lkdGh9IGhlaWdodD17aGVpZ2h0fSBzY2FsZT17c2NhbGV9IG1vZGU9e0ltYWdlTW9kZS5QTEFJTl9JTUFHRX0gYW1iaWVudExpZ2h0PXthbWJpZW50TGlnaHR9Lz5cblx0XHRcdFx0fVxuXHRcdFx0XHR7IHZpZXcgPT09IDEgJiZcblx0XHRcdFx0XHQ8cD5XZSBjYW4gYWRkIGEgc2ltcGxlIHBvaW50IGxpZ2h0IHRoYXQgY2FuIGJlIG1vdmVkIGFyb3VuZC4gWW91IGNhbiB1c2UgdGhlIHNjcm9sbCB3aGVlbCBvbiB0aGUgaW1hZ2UgdG8gbW92ZSB0aGUgbGlnaHQgdXAgYW5kIGRvd24gaW4gdGhlIFotYXhpcywgdGhpcyB3aWxsIGJlIHVzZWZ1bCBsYXRlciB0byBzaG93IHNoYWRvd2luZyBiZWhhdmlvci48L3A+XG5cdFx0XHRcdH1cblx0XHRcdFx0eyB2aWV3ID09PSAxICYmXG5cdFx0XHRcdFx0PGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXhcIj5cblx0XHRcdFx0XHRcdDxHYW1lVmlldyB3aWR0aD17d2lkdGh9IGhlaWdodD17aGVpZ2h0fSBzY2FsZT17c2NhbGV9IG1vZGU9e0ltYWdlTW9kZS5MSUdIVF9NQVB9IGFtYmllbnRMaWdodD17YW1iaWVudExpZ2h0fSBsaWdodFg9e2R5bmFtaWNMaWdodFh9IGxpZ2h0WT17ZHluYW1pY0xpZ2h0WX0gbGlnaHRaPXtkeW5hbWljTGlnaHRafSBsaWdodE1vdmVkPXt0aGlzLmxpZ2h0TW92ZWR9IHJlbmRlckR5bmFtaWNMaWdodC8+XG5cdFx0XHRcdFx0XHQ8ZGl2IHN0eWxlPSdwYWRkaW5nLWxlZnQ6IDEwcHgnPlxuXHRcdFx0XHRcdFx0XHQ8R2FtZVZpZXcgd2lkdGg9e3dpZHRofSBoZWlnaHQ9e2hlaWdodH0gc2NhbGU9e3NjYWxlfSBtb2RlPXtJbWFnZU1vZGUuUExBSU5fSU1BR0V9IGFtYmllbnRMaWdodD17YW1iaWVudExpZ2h0fSBsaWdodFg9e2R5bmFtaWNMaWdodFh9IGxpZ2h0WT17ZHluYW1pY0xpZ2h0WX0gbGlnaHRaPXtkeW5hbWljTGlnaHRafSBsaWdodE1vdmVkPXt0aGlzLmxpZ2h0TW92ZWR9IHJlbmRlckR5bmFtaWNMaWdodC8+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0fVxuXHRcdFx0XHR7IHZpZXcgPT09IDEgJiZcblx0XHRcdFx0XHQ8cD5JdCdzIG5vdCB2ZXJ5IGFjY3VyYXRlIGhvd2V2ZXIsIG5leHQgd2UnbGwgdGFrZSBpbnRvIGFjY291bnQgbm9ybWFsIHZhbHVlcyBmb3IgZWFjaCBwaXhlbCB0byBtYWtlIHRoZSBsaWdodGluZyBhIGJpdCBtb3JlIHJlYWxpc3RpYy48L3A+XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR7IHZpZXcgPT09IDIgJiZcblx0XHRcdFx0XHQ8cD5cblx0XHRcdFx0XHRcdFdlIGNhbiBhZGQgbm9ybWFscyhzdXJmYWNlIHZlY3RvcnMpIHRvIHRoZSBncmF2ZXN0b25lIHRvIGFwcGx5IHRoZSBsaWdodGluZyBpbiBhIG1vcmUgcmVhbGlzdGljIG1hbm5lci5cblx0XHRcdFx0XHRcdDxici8+XG5cdFx0XHRcdFx0XHQ8YnIvPlxuXHRcdFx0XHRcdFx0VGhlIGZvbGxvd2luZyBpbWFnZSBpcyB0aGUgbm9ybWFsIG1hcCBmb3IgdGhlIHNjZW5lLiBJdCBmb2xsb3dzIHRoZSBPcGVuR0wgY29sb3JpbmcgZm9ybWF0LlxuXHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0fVxuXHRcdFx0XHR7IHZpZXcgPT09IDIgJiZcblx0XHRcdFx0XHQ8R2FtZVZpZXcgd2lkdGg9e3dpZHRofSBoZWlnaHQ9e2hlaWdodH0gc2NhbGU9e3NjYWxlfSBtb2RlPXtJbWFnZU1vZGUuTk9STUFMX01BUH0vPlxuXHRcdFx0XHR9XG5cdFx0XHRcdHsgdmlldyA9PT0gMiAmJlxuXHRcdFx0XHRcdDxwPlxuXHRcdFx0XHRcdFx0Tm93IHdoZW4gbGlnaHQgaXMgbW92ZWQgd2UgY2FuIHNlZSB0aGF0IHRoZSBsaWdodGluZyBhcHBsaWVkIHRvIGVhY2ggcGl4ZWwgZGVwZW5kcyBvbiB0aGUgc3VyZmFjZSBhbmdsZSBvciBcIm5vcm1hbCB2ZWN0b3JcIiBmb3IgdGhhdCBwaXhlbC5cblx0XHRcdFx0XHRcdDxici8+XG5cdFx0XHRcdFx0XHQ8YnIvPlxuXHRcdFx0XHRcdFx0VHJ5IG1vdmluZyB0aGUgbGlnaHQgYXJvdW5kIHRoZSBncmF2ZXN0b25lIHRvIGhvdyB0aGUgZnJvbnQgYW5kIGVkZ2VzIG9mIHRoZSBncmF2ZXN0b25lIGFyZSBsaXQgZGVwZW5kaW5nIG9uIHRoZSBwb3NpdGlvbiBvZiB0aGUgbGlnaHQuXG5cdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHR9XG5cdFx0XHRcdHsgdmlldyA9PT0gMiAmJlxuXHRcdFx0XHRcdDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4XCI+XG5cdFx0XHRcdFx0XHQ8R2FtZVZpZXcgd2lkdGg9e3dpZHRofSBoZWlnaHQ9e2hlaWdodH0gc2NhbGU9e3NjYWxlfSBtb2RlPXtJbWFnZU1vZGUuTElHSFRfTUFQfSBhbWJpZW50TGlnaHQ9e2FtYmllbnRMaWdodH0gbGlnaHRYPXtkeW5hbWljTGlnaHRYfSBsaWdodFk9e2R5bmFtaWNMaWdodFl9IGxpZ2h0Wj17ZHluYW1pY0xpZ2h0Wn0gbGlnaHRNb3ZlZD17dGhpcy5saWdodE1vdmVkfSByZW5kZXJEeW5hbWljTGlnaHQgYXBwbHlOb3JtYWxNYXAvPlxuXHRcdFx0XHRcdFx0PGRpdiBzdHlsZT0ncGFkZGluZy1sZWZ0OiAxMHB4Jz5cblx0XHRcdFx0XHRcdFx0PEdhbWVWaWV3IHdpZHRoPXt3aWR0aH0gaGVpZ2h0PXtoZWlnaHR9IHNjYWxlPXtzY2FsZX0gbW9kZT17SW1hZ2VNb2RlLlBMQUlOX0lNQUdFfSBhbWJpZW50TGlnaHQ9e2FtYmllbnRMaWdodH0gbGlnaHRYPXtkeW5hbWljTGlnaHRYfSBsaWdodFk9e2R5bmFtaWNMaWdodFl9IGxpZ2h0Wj17ZHluYW1pY0xpZ2h0Wn0gbGlnaHRNb3ZlZD17dGhpcy5saWdodE1vdmVkfSByZW5kZXJEeW5hbWljTGlnaHQgYXBwbHlOb3JtYWxNYXAvPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdH1cblx0XHRcdFx0eyB2aWV3ID09PSAyICYmXG5cdFx0XHRcdFx0PHA+XG5cdFx0XHRcdFx0XHRUaGVyZSBpcyBhbiBpc3N1ZSB3aXRoIHRoaXMgbmFpdmUgYXBwcm9hY2ggaG93ZXZlciwgaXQgYnJlYWtzIGRvd24gaWYgeW91IG1vdmUgdGhlIGxpZ2h0IGludG8gdGhlIGNlbnRlciBvZiB0aGUgZ3JhdmVzdG9uZSwgYXMgd2UncmUgdHJ5aW5nIHRvIHNpbXVsYXRlIDNEIGxpZ2h0aW5nIG9uIGEgMkQgaW1hZ2Uod2hlcmUgdGhlIGNhbWVyYSBhbmdsZSBoYXMgYmVlbiBcImJha2VkIGluXCIgdG8gdGhlIGltYWdlKS5cblx0XHRcdFx0XHRcdDxici8+XG5cdFx0XHRcdFx0XHQ8YnIvPlxuXHRcdFx0XHRcdFx0T24gdGhlIG5leHQgcGFnZSB3ZSdsbCBmaXggdGhpcyBieSB0YWtpbmcgaW50byBhY2NvdW50IGVhY2ggcGl4ZWwncyBsb2NhdGlvbiBpbiB0aGUgXCJvcmlnaW5hbFwiIDNEIHNwYWNlLlxuXHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHsgdmlldyA9PT0gMyAmJlxuXHRcdFx0XHRcdDxwPlxuXHRcdFx0XHRcdFx0SW1hZ2UgYXNzZXRzIG9mIHRoaXMgc3R5bGUgYXJlIG9mdGVuIHJlZmVycmVkIHRvIGFzIFwidG9wLWRvd25cIiwgYXMgdGhlIGltYWdlIHJlcHJlc2VudHMgYSB0aHJlZSBkaW1lbnNpb25hbCBvYmplY3QgYXMgaWYgdGhlIGNhbWVyYSB3YXMgYWJvdmUoYW5kIGluIGZyb250IG9mIHRoZSBvYmplY3QpIGFuZCBsb29raW5nIGRvd24gb24gaXQuXG5cdFx0XHRcdFx0XHRTaW5jZSB0aGlzIGNhbWVyYSBhbmdsZSBpcyBlc3NlbnRpYWxseSBcImJha2VkIGludG9cIiB0aGUgaW1hZ2UsIHdlIGNhbiB0YWtlIHRoYXQgaW50byBhY2NvdW50IHdoZW4gY2FsY3VsYXRpbmcgaG93IGxpZ2h0IHdvdWxkIGhpdCB0aGUgb2JqZWN0KGFzIGlmIGl0IHdhcyBzdGlsbCB0aHJlZSBkaW1lbnNpb25hbCkuXG5cdFx0XHRcdFx0XHRSYXRoZXIgdGhhbiBhcHBseSB0aGUgbGlnaHRpbmcgdG8gZWFjaCBwaXhlbCBiYXNlZCBvbiBpdHMgbG9jYXRpb24gaW4gdGhlIGltYWdlLCB3ZSdsbCBhcHBseSBpdCBiYXNlZCBvbiB0aGUgXCJvcmlnaW5hbCBsb2NhdGlvblwiLCB0aGUgbG9jYXRpb24gdGhlIGltYWdlIGRhdGEgaW4gdGhlIHBpeGVsIHdvdWxkIGJlIGxvY2F0ZWQgaWYgdGhlIGNhbWVyYSB3ZXJlIGFjdHVhbGx5IGRpcmVjdGx5IG92ZXIgdGhlIG9iamVjdC5cblx0XHRcdFx0XHRcdDxici8+XG5cdFx0XHRcdFx0XHQ8YnIvPlxuXHRcdFx0XHRcdFx0VGhlIGZvbGxvd2luZyBpbWFnZSBpcyB0aGUgXCJwaXhlbCBvZmZzZXQgbWFwXCIsIGl0IG1hcHMgZWFjaCBwaXhlbCB0byB0aGUgbG9jYXRpb24gaXQgd291bGQgYmUgaWYgdGhlIDJEIGFzc2V0cyB3ZXJlIGRyYXduIHdpdGggdGhlIGNhbWVyYSBkaXJlY3RseSBvdmVyaGVhZC4gQSBsaWdodGVyIGNvbG9yIGluZGljYXRlcyB0aGF0IHRoZSBwaXhlbCBzaG91bGQgYmUgdHJlYXRlZCBhcyByZXNpZGluZyBmYXJ0aGVyIGRvd24gaW4gdGhlIGltYWdlLlxuXHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0fVxuXHRcdFx0XHR7IHZpZXcgPT09IDMgJiZcblx0XHRcdFx0XHQ8R2FtZVZpZXcgd2lkdGg9e3dpZHRofSBoZWlnaHQ9e2hlaWdodH0gc2NhbGU9e3NjYWxlfSBtb2RlPXtJbWFnZU1vZGUuUElYRUxfT0ZGU0VUX01BUH0vPlxuXHRcdFx0XHR9XG5cdFx0XHRcdHsgdmlldyA9PT0gMyAmJlxuXHRcdFx0XHRcdDxwPlxuXHRcdFx0XHRcdFx0VGhlIGxpZ2h0aW5nIGlzIGEgYml0IG1vcmUgYWNjdXJhdGUgbm93LCBwYXJ0aWN1bGFybHkgd2hlbiB0aGUgbGlnaHQgaXMgdmVyeSBjbG9zZSB0byB0aGUgZ3JhdmVzdG9uZSwgaW4gZnJvbnQgb2YgaXQgb3IgYmVoaW5kIGl0LlxuXHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0fVxuXHRcdFx0XHR7IHZpZXcgPT09IDMgJiZcblx0XHRcdFx0XHQ8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleFwiPlxuXHRcdFx0XHRcdFx0PEdhbWVWaWV3IHdpZHRoPXt3aWR0aH0gaGVpZ2h0PXtoZWlnaHR9IHNjYWxlPXtzY2FsZX0gbW9kZT17SW1hZ2VNb2RlLkxJR0hUX01BUH0gYW1iaWVudExpZ2h0PXthbWJpZW50TGlnaHR9IGxpZ2h0WD17ZHluYW1pY0xpZ2h0WH0gbGlnaHRZPXtkeW5hbWljTGlnaHRZfSBsaWdodFo9e2R5bmFtaWNMaWdodFp9IGxpZ2h0TW92ZWQ9e3RoaXMubGlnaHRNb3ZlZH0gcmVuZGVyRHluYW1pY0xpZ2h0IGFwcGx5Tm9ybWFsTWFwIGFwcGx5UGl4ZWxMb2NhdGlvbk9mZnNldE1hcC8+XG5cdFx0XHRcdFx0XHQ8ZGl2IHN0eWxlPSdwYWRkaW5nLWxlZnQ6IDEwcHgnPlxuXHRcdFx0XHRcdFx0XHQ8R2FtZVZpZXcgd2lkdGg9e3dpZHRofSBoZWlnaHQ9e2hlaWdodH0gc2NhbGU9e3NjYWxlfSBtb2RlPXtJbWFnZU1vZGUuUExBSU5fSU1BR0V9IGFtYmllbnRMaWdodD17YW1iaWVudExpZ2h0fSBsaWdodFg9e2R5bmFtaWNMaWdodFh9IGxpZ2h0WT17ZHluYW1pY0xpZ2h0WX0gbGlnaHRaPXtkeW5hbWljTGlnaHRafSBsaWdodE1vdmVkPXt0aGlzLmxpZ2h0TW92ZWR9IHJlbmRlckR5bmFtaWNMaWdodCBhcHBseU5vcm1hbE1hcCBhcHBseVBpeGVsTG9jYXRpb25PZmZzZXRNYXAvPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdH1cblx0XHRcdFx0eyB2aWV3ID09PSAzICYmXG5cdFx0XHRcdFx0PHA+XG5cdFx0XHRcdFx0XHRTb21lIHZpc3VhbCBhcnRpZmFjdHMgY2FuIHN0aWxsIHJlc3VsdCBpZiB0aGUgbGlnaHQgaXMgcGxhY2VkIGVzc2VudGlhbGx5IFwid2l0aGluXCIgdGhlIGdyYXZlc3RvbmUsIGhvd2V2ZXIgdGhpcyBtYXkgbm90IGJlIGFuIGlzc3VlIGluIHByYWN0aWNlIGFzIGxvbmcgYXMgbGlnaHQgc291cmNlcyBhcmUgbm90IGFsbG93ZWQgdG8gcGFzcyBcInRocm91Z2hcIiBvYmplY3RzIHN1Y2ggYXMgdGhlc2UuXG5cdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHR9XG5cblx0XHRcdFx0eyB2aWV3ID09PSA0ICYmXG5cdFx0XHRcdFx0PHA+XG5cdFx0XHRcdFx0XHRMZXQncyBnZXQgbW9yZSBjb21wbGV4IG5vdywgd2UnbGwgdXNlIGEgXCJoZWlnaHQgbWFwXCIgaW1hZ2UgdG8gcHJvZHVjZSBhIFwic2hhZG93IG1hcFwiLlxuXHRcdFx0XHRcdFx0VGhlIGhlaWdodCBtYXAgaXMgc2ltaWxhciB0byB0aGUgXCJwaXhlbCBvZmZzZXQgbWFwXCIgYnV0IGluZGljYXRlcyB0aGUgaGVpZ2h0IG9mIHRoZSBwaXhlbCBmcm9tIHRoZSBncm91bmQgcmF0aGVyIHRoYW4gbG9jYXRpb24gaW4gWC9ZIHNwYWNlLlxuXHRcdFx0XHRcdFx0VXNpbmcgdGhlIGhlaWdodCBtYXAgd2Ugd2lsbCBjYXN0IHNoYWRvd3MgZnJvbSB0aGUgbGlnaHQgc291cmNlIHRvIGNyZWF0ZSB0aGUgc2hhZG93IG1hcCwgdGhlIHNoYWRvdyBtYXAgaW5kaWNhdGVzIHdoYXQgYXJlYXMgYXJlIFwiaW4gc2hhZG93XCIgYW5kIHNob3VsZCBub3QgYmUgbGl0IGJ5IHRoZSBkeW5hbWljIGxpZ2h0IHNvdXJjZS5cblx0XHRcdFx0XHRcdDxici8+XG5cdFx0XHRcdFx0XHQ8YnIvPlxuXHRcdFx0XHRcdFx0VGhlIGZvbGxvd2luZyBpbWFnZSBpcyB0aGUgaGVpZ2h0IG1hcC5cblx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdH1cblx0XHRcdFx0eyB2aWV3ID09PSA0ICYmXG5cdFx0XHRcdFx0PEdhbWVWaWV3IHdpZHRoPXt3aWR0aH0gaGVpZ2h0PXtoZWlnaHR9IHNjYWxlPXtzY2FsZX0gbW9kZT17SW1hZ2VNb2RlLkhFSUdIVF9NQVB9Lz5cblx0XHRcdFx0fVxuXHRcdFx0XHR7IHZpZXcgPT09IDQgJiZcblx0XHRcdFx0XHQ8cD5UaGUgZm9sbG93aW5nIGltYWdlIGlzIHRoZSBzaGFkb3cgbWFwLCB3aXRoIHRoZSBkeW5hbWljIGxpZ2h0IGFwcGxpZWQgdG8gaXQgYXMgd2VsbC48L3A+XG5cdFx0XHRcdH1cblx0XHRcdFx0eyB2aWV3ID09PSA0ICYmXG5cdFx0XHRcdFx0PEdhbWVWaWV3IHdpZHRoPXt3aWR0aH0gaGVpZ2h0PXtoZWlnaHR9IHNjYWxlPXtzY2FsZX0gbW9kZT17SW1hZ2VNb2RlLlNIQURPV19NQVB9IGFtYmllbnRMaWdodD17YW1iaWVudExpZ2h0fSBsaWdodFg9e2R5bmFtaWNMaWdodFh9IGxpZ2h0WT17ZHluYW1pY0xpZ2h0WX0gbGlnaHRaPXtkeW5hbWljTGlnaHRafSByZW5kZXJEeW5hbWljTGlnaHQvPlxuXHRcdFx0XHR9XG5cdFx0XHRcdHsgdmlldyA9PT0gNCAmJlxuXHRcdFx0XHRcdDxwPk5vdyB3aGVuIHdlIG1vdmUgdGhlIGxpZ2h0IGFyb3VuZCB0aGUgZ3JhdmVzdG9uZSBjYXN0cyBhIGRpc3RpbmN0IHNoYWRvdyBvbiB0aGUgZ3JvdW5kLjwvcD5cblx0XHRcdFx0fVxuXHRcdFx0XHR7IHZpZXcgPT09IDQgJiZcblx0XHRcdFx0XHQ8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleFwiPlxuXHRcdFx0XHRcdFx0PEdhbWVWaWV3IHdpZHRoPXt3aWR0aH0gaGVpZ2h0PXtoZWlnaHR9IHNjYWxlPXtzY2FsZX0gbW9kZT17SW1hZ2VNb2RlLkxJR0hUX01BUH0gYW1iaWVudExpZ2h0PXthbWJpZW50TGlnaHR9IGxpZ2h0WD17ZHluYW1pY0xpZ2h0WH0gbGlnaHRZPXtkeW5hbWljTGlnaHRZfSBsaWdodFo9e2R5bmFtaWNMaWdodFp9IGxpZ2h0TW92ZWQ9e3RoaXMubGlnaHRNb3ZlZH0gcmVuZGVyRHluYW1pY0xpZ2h0IGFwcGx5Tm9ybWFsTWFwIGFwcGx5UGl4ZWxMb2NhdGlvbk9mZnNldE1hcCBhcHBseVNoYWRvd01hcC8+XG5cdFx0XHRcdFx0XHQ8ZGl2IHN0eWxlPSdwYWRkaW5nLWxlZnQ6IDEwcHgnPlxuXHRcdFx0XHRcdFx0XHQ8R2FtZVZpZXcgd2lkdGg9e3dpZHRofSBoZWlnaHQ9e2hlaWdodH0gc2NhbGU9e3NjYWxlfSBtb2RlPXtJbWFnZU1vZGUuUExBSU5fSU1BR0V9IGFtYmllbnRMaWdodD17YW1iaWVudExpZ2h0fSBsaWdodFg9e2R5bmFtaWNMaWdodFh9IGxpZ2h0WT17ZHluYW1pY0xpZ2h0WX0gbGlnaHRaPXtkeW5hbWljTGlnaHRafSBsaWdodE1vdmVkPXt0aGlzLmxpZ2h0TW92ZWR9IHJlbmRlckR5bmFtaWNMaWdodCBhcHBseU5vcm1hbE1hcCBhcHBseVBpeGVsTG9jYXRpb25PZmZzZXRNYXAgYXBwbHlTaGFkb3dNYXAvPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdH1cblx0XHRcdFx0eyB2aWV3ID09PSA0ICYmXG5cdFx0XHRcdFx0PHA+XG5cdFx0XHRcdFx0XHRUaGUgc2hhZG93IGRvZXMgbm90IGxvb2sgY29ycmVjdCB3aGVuIHRoZSBsaWdodCBpcyBpbiBmcm9udCBvZiB0aGUgZ3JhdmVzdG9uZSBob3dldmVyLCB0aGlzIGlzIGR1ZSB0byB0aGUgc2hhZG93IG1hcCBiZWluZyBjYWxjdWxhdGVkIGFzc3VtaW5nIHRoZSBjYW1lcmEgaXMgZGlyZWN0bHkgYWJvdmUgdGhlIG9iamVjdC5cblx0XHRcdFx0XHRcdE9uIHRoZSBuZXh0IHBhZ2Ugd2Ugd2lsbCBmaXggdGhpcyBieSB1c2luZyB0aGUgXCJwaXhlbCBvZmZzZXQgbWFwXCIgYWdhaW4uXG5cdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHR9XG5cblx0XHRcdFx0eyB2aWV3ID09PSA1ICYmXG5cdFx0XHRcdFx0PHA+XG5cdFx0XHRcdFx0XHRKdXN0IGFzIHdlIHVzZWQgYSBcInBpeGVsIG9mZnNldCBtYXBcIiB0byBjb3JyZWN0IGZvciB0aGUgY2FtZXJhIGFuZ2xlIHdoZW4gY2FsY3VsYXRpbmcgdGhlIGxpZ2h0aW5nIHRoZSBpcyBhcHBsaWVkIHRvIHRoZSBncmF2ZXN0b25lLCB3ZSBjYW4gdXNlIHRoZSBzYW1lIHBpeGVsIG9mZnNldHMgdG8gbW9yZSBhY2N1cmF0ZWx5IGNhbGN1bGF0ZSB3aGV0aGVyIGEgcGl4ZWwgaXMgXCJpbiBzaGFkb3dcIi5cblx0XHRcdFx0XHRcdDxici8+XG5cdFx0XHRcdFx0XHQ8YnIvPlxuXHRcdFx0XHRcdFx0SGVyZSBpcyB0aGUgcGl4ZWwgb2Zmc2V0IG1hcCBhZ2Fpbjpcblx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdH1cblx0XHRcdFx0eyB2aWV3ID09PSA1ICYmXG5cdFx0XHRcdFx0PEdhbWVWaWV3IHdpZHRoPXt3aWR0aH0gaGVpZ2h0PXtoZWlnaHR9IHNjYWxlPXtzY2FsZX0gbW9kZT17SW1hZ2VNb2RlLlBJWEVMX09GRlNFVF9NQVB9Lz5cblx0XHRcdFx0fVxuXHRcdFx0XHR7IHZpZXcgPT09IDUgJiZcblx0XHRcdFx0XHQ8cD5BbmQgdGhlIHNoYWRvdyBvZmZzZXQgbWFwIGFnYWluOjwvcD5cblx0XHRcdFx0fVxuXHRcdFx0XHR7IHZpZXcgPT09IDUgJiZcblx0XHRcdFx0XHQ8R2FtZVZpZXcgd2lkdGg9e3dpZHRofSBoZWlnaHQ9e2hlaWdodH0gc2NhbGU9e3NjYWxlfSBtb2RlPXtJbWFnZU1vZGUuU0hBRE9XX01BUH0gYW1iaWVudExpZ2h0PXthbWJpZW50TGlnaHR9IGxpZ2h0WD17ZHluYW1pY0xpZ2h0WH0gbGlnaHRZPXtkeW5hbWljTGlnaHRZfSBsaWdodFo9e2R5bmFtaWNMaWdodFp9IHJlbmRlckR5bmFtaWNMaWdodC8+XG5cdFx0XHRcdH1cblx0XHRcdFx0eyB2aWV3ID09PSA1ICYmXG5cdFx0XHRcdFx0PHA+VGhlIGVuZCByZXN1bHQsIHVzaW5nIHRoZXNlIHRyaWNrcyB3ZSBjYW4gc2ltdWxhdGUgZHluYW1pYyAzRCBsaWdodGluZyB3aXRoaW4gYSAyRCBpbWFnZS48L3A+XG5cdFx0XHRcdH1cblx0XHRcdFx0eyB2aWV3ID09PSA1ICYmXG5cdFx0XHRcdFx0PGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXhcIj5cblx0XHRcdFx0XHRcdDxHYW1lVmlldyB3aWR0aD17d2lkdGh9IGhlaWdodD17aGVpZ2h0fSBzY2FsZT17c2NhbGV9IG1vZGU9e0ltYWdlTW9kZS5MSUdIVF9NQVB9IGFtYmllbnRMaWdodD17YW1iaWVudExpZ2h0fSBsaWdodFg9e2R5bmFtaWNMaWdodFh9IGxpZ2h0WT17ZHluYW1pY0xpZ2h0WX0gbGlnaHRaPXtkeW5hbWljTGlnaHRafSBsaWdodE1vdmVkPXt0aGlzLmxpZ2h0TW92ZWR9IHJlbmRlckR5bmFtaWNMaWdodCBhcHBseU5vcm1hbE1hcCBhcHBseVBpeGVsTG9jYXRpb25PZmZzZXRNYXAgYXBwbHlTaGFkb3dNYXAgYXBwbHlQaXhlbE9mZnNldFRvU2hhZG93Q2FsY3VsYXRpb25zLz5cblx0XHRcdFx0XHRcdDxkaXYgc3R5bGU9J3BhZGRpbmctbGVmdDogMTBweCc+XG5cdFx0XHRcdFx0XHRcdDxHYW1lVmlldyB3aWR0aD17d2lkdGh9IGhlaWdodD17aGVpZ2h0fSBzY2FsZT17c2NhbGV9IG1vZGU9e0ltYWdlTW9kZS5QTEFJTl9JTUFHRX0gYW1iaWVudExpZ2h0PXthbWJpZW50TGlnaHR9IGxpZ2h0WD17ZHluYW1pY0xpZ2h0WH0gbGlnaHRZPXtkeW5hbWljTGlnaHRZfSBsaWdodFo9e2R5bmFtaWNMaWdodFp9IGxpZ2h0TW92ZWQ9e3RoaXMubGlnaHRNb3ZlZH0gcmVuZGVyRHluYW1pY0xpZ2h0IGFwcGx5Tm9ybWFsTWFwIGFwcGx5UGl4ZWxMb2NhdGlvbk9mZnNldE1hcCBhcHBseVNoYWRvd01hcCBhcHBseVBpeGVsT2Zmc2V0VG9TaGFkb3dDYWxjdWxhdGlvbnMvPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdH1cblx0XHRcdFx0eyB2aWV3ID09PSA1ICYmXG5cdFx0XHRcdFx0PHA+XG5cdFx0XHRcdFx0XHRJcyB0aGlzIHRlY2huaXF1ZSB1c2FibGUgd2l0aGluIGEgZ2FtZT8gQWxtb3N0IGNlcnRhaW5seSBub3QgaW4gaXQncyBjdXJyZW50IHN0YXRlIGR1ZSB0byBwZXJmb3JtYW5jZSBpc3N1ZXMsIGl0ZXJhdGluZyBvdmVyIGFuZCBjYWxjdWxhdGluZyB0aGUgbGlnaHRpbmcgdG8gYmUgYXBwbGllZCB0byBlYWNoIHBpeGVsIHVzaW5nIHRoZSBDUFUgaXMgdmVyeSBzbG93LlxuXHRcdFx0XHRcdFx0PGJyLz5cblx0XHRcdFx0XHRcdDxici8+XG5cdFx0XHRcdFx0XHRVdGlsaXppbmcgU0lNRCBjb3VsZCBzcGVlZCBpdCB1cCBidXQgSSBkb3VidCBpdCB3b3VsZCBiZSBlbm91Z2ggb25jZSB5b3UgaW5jcmVhc2UgdGhlIHdvcmxkIHNpemUgYW5kIGFkZCBtdWx0aXBsZSBsaWdodCBzb3VyY2VzLlxuXHRcdFx0XHRcdFx0PGJyLz5cblx0XHRcdFx0XHRcdDxici8+XG5cdFx0XHRcdFx0XHRQZXJoYXBzIGl0IHdvdWxkIGJlIHBvc3NpYmxlIHRvIHBlcmZvcm0gdGhlc2UgbGlnaHRpbmcgY2FsY3VsYXRpb25zIHdpdGhpbiBhIHNoYWRlciwgYnV0IGF0IHRoYXQgcG9pbnQgd2h5IG5vdCBqdXN0IHN3aXRjaCB0byBhIHRydWUgM0QgbGlnaHRpbmcgbW9kZWwuXG5cdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0PC9kaXY+XG5cblx0XHRcdDxwIHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyO1wiPlxuXHRcdFx0XHQ8YnV0dG9uIHN0eWxlPVwiZm9udC1zaXplOiAyNHB4XCIgb25DbGljaz17dGhpcy5wcmV2aW91c1ZpZXd9IGRpc2FibGVkPXt2aWV3ID09IDB9PlByZXZpb3VzPC9idXR0b24+XG5cdFx0XHRcdDxzcGFuIHN0eWxlPVwiZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDogMjBweFwiPjwvc3Bhbj5cblx0XHRcdFx0PGJ1dHRvbiBzdHlsZT1cImZvbnQtc2l6ZTogMjRweFwiIG9uQ2xpY2s9e3RoaXMubmV4dFZpZXd9IGRpc2FibGVkPXt2aWV3ID09IFZJRVdfQ09VTlR9Pk5leHQ8L2J1dHRvbj5cblx0XHRcdDwvcD5cblxuXHRcdDwvZGl2Pjtcblx0fVxuXG59Il19